#1 ç®€ä»‹
åœ¨è¿™èŠ‚è¯¾ä¸­ æˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•è¿›ä¸€æ­¥å¢å¼ºreduxåº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å°†å®ç°ä¸­é—´ä»¶æ¥ä¸ºstoreæ·»åŠ ä¸€äº›æ–°åŠŸèƒ½å¹¶æ¢ç´¢ä¸€äº›æ›´å®¹æ˜“æ‰©å±•æ„å»ºåº”ç”¨çš„æ–¹å¼ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸­é—´ä»¶å’Œæ›´åŠ å¯é¢„æµ‹çš„åº”ç”¨ç»“æ„ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–æˆ‘ä»¬çš„ Redux åº”ç”¨ã€‚æˆ‘ä»¬æ¥è¯¦ç»†äº†è§£ä¸‹å§ï¼

#2 ä»€ä¹ˆæ˜¯ä¸­é—´ä»¶
##2.1 video1
ä¸­é—´ä»¶æ˜¯æ‹¦æˆªè¯·æ±‚æˆ–è¿›ç¨‹çš„ä»£ç ï¼Œé€šå¸¸ä¼šé‡å®šå‘æˆ–äº§ç”ŸæŸç§å‰¯ä½œç”¨ï¼Œåœ¨reduxä¸­ï¼Œä¸­é—´ä»¶æ˜¯å­˜åœ¨äºåˆ†æ´¾åŠ¨ä½œå’Œreducerä¹‹é—´çš„è½¯ä»¶ï¼Œæœ‰äº†ä¸­é—´ä»¶ æˆ‘ä»¬å¯ä»¥åœ¨åˆ†æ´¾çš„åŠ¨ä½œåˆ°è¾¾reducerä¹‹å‰ï¼Œæ‹¦æˆªå’Œä¿®æ”¹å®ƒï¼Œæˆ–è€…ç”šè‡³åœ¨åˆ†æ´¾å‘ç”Ÿæ—¶è¿è¡ŒæŸç§ä»£ç ã€‚ä¸­é—´ä»¶æ˜¯ä¸€æ¡†å¼ºå¤§çš„å·¥å…·ï¼Œè®©æˆ‘ä»¬æ‰©å±•åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚
![](https://s3.cn-north-1.amazonaws.com.cn/u-img/95619ccb-5ee4-40f3-a0f0-3399d3303210)
**æ­£å¦‚reduxæ–‡æ¡£æ‰€æè¿°çš„ï¼Œä¸­é—´ä»¶æ˜¯åœ¨æ´¾é£actionå’Œå®ƒæŠµè¾¾reducerçš„æ—¶é—´ç‚¹ä¹‹é—´çš„ç¬¬ä¸‰æ–¹æ‰©å±•ç‚¹ã€‚**

##2.2 ä¸­é—´ä»¶ å’Œ Redux
ä½ å·²ç»çŸ¥é“ï¼Œå•å‘æ•°æ®æµä½¿ reducer åº”ç”¨å…·æœ‰å¯é¢„æµ‹æ€§ï¼šä¸ºäº†æ”¹å˜ store çš„çŠ¶æ€ï¼Œaction æè¿°æ›´æ”¹å¿…é¡»è¢«æ´¾å‘åˆ° reducerã€‚ç„¶å reducer ä¾æ¬¡è¿”å›æ–°çš„çŠ¶æ€ã€‚

åœ¨æ´¾å‘ action å’Œ reducer ä¹‹é—´ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸€ç§å«åš`ä¸­é—´ä»¶`çš„è½¯ä»¶åœ¨ action æŠµè¾¾ reducer ä¹‹å‰æ¥æ‹¦æˆªå®ƒã€‚æ­£å¦‚  [Reduxæ–‡æ¡£ ](http://redux.js.org/docs/advanced/Middleware.html)æ‰€æè¿°çš„ï¼Œä½ å¯ä»¥å°†ä¸­é—´ä»¶çœ‹åšï¼š

>â€¦æ˜¯åœ¨æ´¾å‘ action å’Œå®ƒæŠµè¾¾ reducer çš„æ—¶é—´ç‚¹ä¹‹é—´çš„ç¬¬ä¸‰æ–¹æ‰©å±•ã€‚

ä¸­é—´ä»¶æ”¶åˆ°è¯¥ action åï¼Œå®ƒå¯ä»¥æ‰§è¡Œå¤§é‡çš„æ“ä½œï¼ŒåŒ…æ‹¬ï¼š

* äº§ç”Ÿå‰¯ä½œç”¨ï¼ˆä¾‹å¦‚[è®°å½•çŠ¶æ€](https://github.com/evgenyrodionov/redux-logger))
* è‡ªå·±å¤„ç† actionï¼ˆä¾‹å¦‚å‘å‡ºå¼‚æ­¥ HTTP è¯·æ±‚ï¼‰
* é‡å®šå‘è¯¥ actionï¼ˆä¾‹å¦‚é‡å®šå‘åˆ°å¦ä¸€ä¸ªä¸­é—´ä»¶ï¼‰
* åœ¨æ´¾å‘æœŸé—´è¿è¡Œä¸€äº›ä»£ç 
* æ´¾å‘è¿½åŠ çš„ action

...å®ƒåœ¨å°† action ä¼ é€’ç»™ reducer ä¹‹å‰æ‰§è¡Œæ‰€æœ‰è¿™äº›æ“ä½œï¼

## 2.3 ä¸­é—´ä»¶æ€»ç»“
ä¸­é—´ä»¶å¯ä»¥é‡‡ç”¨ä¸ Redux ç›¸åŒçš„å•å‘çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œç‰¹åˆ«æ˜¯ä¸­é—´ä»¶å¯ä»¥åœ¨æ´¾é£çš„ action æŠµè¾¾ reducer ä¹‹å‰æ‹¦æˆªå®ƒï¼Œç„¶åé‡å®šå‘è¯¥ action æˆ–äº§ç”Ÿå‰¯ä½œç”¨ã€‚

æˆ‘ä»¬å°†åœ¨ä¸‹ä¸ªéƒ¨åˆ†è¯¦ç»†è®²è§£ä¸€ä¸ªå‰¯ä½œç”¨ï¼Œä½¿ç”¨ `logger` ä¸­é—´ä»¶å‘æ§åˆ¶å°è¾“å‡ºæœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚

##2.4 æ›´å¤šèµ„æ–™
* [Redux æ–‡æ¡£ä¸­çš„ä¸­é—´ä»¶](http://redux.js.org/docs/advanced/Middleware.html)
* [åœ¨ React/Redux ä¸­åˆ›å»ºè‡ªå®šä¹‰ä¸­é—´ä»¶](https://medium.com/@jihdeh/creating-custom-middleware-in-react-redux-961570459ecb)

##3 ä½¿ç”¨ä¸­é—´ä»¶
##3.1 video1
ç°åœ¨æˆ‘ä»¬ç°åœ¨çŸ¥é“äº†ä¸­é—´ä»¶å¯ä»¥åšä»€ä¹ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å°†ä¸­é—´ä»¶åº”ç”¨äºreduxåº”ç”¨ç¨‹åºå‘¢ï¼Ÿå¥½æ¶ˆæ¯æ˜¯å®ƒå¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­çš„ä¸€ä¸ªä½ç½®é›†ä¸­ï¼šåˆ›å»ºstoreæ—¶ï¼Œåœ¨è¯¾ç¨‹æ—©äº›æ—¶å€™ å½“æˆ‘ä»¬åˆ›å»ºstoreæ—¶ï¼Œæˆ‘ä»¬åªä¼ å…¥ä¸€ä¸ªreducer,createStoreå®é™…ä¸Šå¯ä»¥æ¥å—å¯é€‰å‚æ•°enhancer,å¦‚æœæˆ‘ä»¬æƒ³å°†ä¸­é—´ä»¶ç”¨äºåº”ç”¨ç¨‹åºï¼Œä½¿ç”¨æ¥è‡ªreduxçš„applyMiddlewareå‡½æ•°å°±å¯ä»¥äº†ï¼Œæ­¤å‡½æ•°å¯ä»¥æ¥å—å¤šä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå¦‚æœéœ€è¦ï¼Œæˆ‘ä»¬å®é™…ä¸Šå¯ä»¥å°†å¤šä¸ªä¸­é—´ä»¶åº”ç”¨åˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œä¸‹é¢æ¥çœ‹çœ‹ä¾‹å­ï¼Œé¦–å…ˆæ˜¯loggerä¸­é—´ä»¶ã€‚
```
createStore(reducer,applyMiddleware())
```
##3.2 ä¸­é—´ä»¶ä½äº Redux åº”ç”¨çš„å“ªä¸ªä½ç½®ï¼Ÿ
è¿˜è®°å¾—`createStore()` æ–¹æ³•ç”¨æ¥åˆ›å»º Redux storeã€‚é™¤äº†ä¼ å…¥ reducerï¼ˆç»å¸¸æ˜¯ç»„åˆçš„â€œæ ¹ reducerâ€ï¼‰ï¼Œ`createStore() `è¿˜å¯ä»¥æ¥å—å¯é€‰ `enhancer` å‚æ•°ï¼ä»¥ä¸‹æ˜¯ `createStore()` çš„æ–¹æ³•ç­¾åï¼š

```
store.createStore(reducer, [preloadedState], [enhancer])
```

Redux ä¸ºæˆ‘ä»¬æä¾›äº† `applyMiddleware()` å‡½æ•°ï¼Œæˆ‘å¯ä»¥å°†å…¶ç”¨ä½œ `enhancer `å‡½æ•°çš„å‚æ•°ã€‚`applyMiddleware()` å¯ä»¥æ ¹æ®éœ€è¦æ¥å—å¤šä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªåº”ç”¨ä¸­ä½¿ç”¨å¤šä¸ªä¸­é—´ä»¶ã€‚æˆ‘ä»¬çœ‹çœ‹å…·ä½“ä»£ç ï¼Œä» `logger` ä¸­é—´ä»¶å¼€å§‹ï¼

##3.2 ç¤ºä¾‹ï¼šlogger ä¸­é—´ä»¶
Redux æ˜¯ç½‘ç»œåº”ç”¨çš„â€œå¯é¢„æµ‹çŠ¶æ€å®¹å™¨â€ã€‚å½“ action è¢«æ´¾é£æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›çœ‹åˆ°æ–°çš„çŠ¶æ€è¢«å¤„ç†å’Œä¿å­˜ï¼ˆä¾‹å¦‚ï¼ŒçŠ¶æ€ä¸èƒ½è‡ªå·±æ›´æ–°ï¼Œå¤–éƒ¨èµ„æºä¹Ÿä¸èƒ½ç›´æ¥å†™å…¥çŠ¶æ€ï¼‰ã€‚å¦‚æœèƒ½è®°å½•å‘ç”Ÿåœ¨åº”ç”¨ä¸­çš„æ¯ä¸ª actionï¼Œä»¥åŠå…¶å˜åŒ–å‰åçš„çŠ¶æ€ï¼Œå²‚ä¸æ˜¯å¾ˆæ£’ï¼Ÿ

æˆ‘ä»¬å¯ä»¥åº”ç”¨â€œloggerâ€ä¸­é—´ä»¶æ¥å®ç°è¿™ä¸€ç‚¹ï¼logger ä¼šäº§ç”Ÿä»¥ä¸‹**å‰¯ä½œç”¨**ï¼šè¾“å‡º reducer å¤„ç† action å‰åçš„ store çš„çŠ¶æ€

æˆ‘ä»¬æ¥äº†è§£ä¸‹å§ï¼

##3.3 video2
[è¿™é‡Œæ˜¯æœ¬è§†é¢‘æ‰€åšæ›´æ”¹çš„commit](https://github.com/udacity/reactnd-udacimeals-complete/commit/2b60fe731b2e4f8ebcfaaafc0ac36ecd11e5215d)

>ğŸ’¡ redux-logger npm è½¯ä»¶åŒ…ğŸ’¡
åœ¨ä¸Šä¸ªè§†é¢‘ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†è‡ªå®šä¹‰ logger å°† store çš„çŠ¶æ€è¾“å‡ºåˆ°æ§åˆ¶å°ä¸­ã€‚ä½ ä¹Ÿå¯ä»¥å‚é˜… redux-loggerï¼Œäº†è§£è¿™ä¸ªé¢„æ„å»ºçš„æ—¥å¿—å·¥å…·ã€‚å®‰è£…æŒ‡ä»¤ï¼š

>```
npm install --save redux-logger
```

>redux-logger è‡ªå¸¦é»˜è®¤é€‰é¡¹ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ [å…¶ä»–è‡ªå®šä¹‰å†…å®¹ï¼](https://github.com/evgenyrodionov/redux-logger#options)

##3.4 æ€»ç»“
æˆ‘ä»¬è¦åœ¨ Redux åº”ç”¨çš„ä¸€ä¸ªä¸­å¿ƒä½ç½®ï¼ˆåˆ›å»º store æ—¶ï¼‰åº”ç”¨ä¸­é—´ä»¶ã€‚`createStore()` æ–¹æ³•å¿…é¡»è·å– reducer å‚æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¼ å…¥å¯é€‰ `enhancer` å‚æ•°ã€‚è¯¥å‚æ•°æ˜¯ Redux çš„ `applyMiddleware() `å‡½æ•°ï¼Œå®ƒå¯ä»¥æ¥å—ä¸­é—´ä»¶æœ¬èº«çš„å¤šä¸ªå®ä¾‹ã€‚

##3.5 æ›´å¤šèµ„æ–™
[redux-logger](https://github.com/evgenyrodionov/redux-logger)